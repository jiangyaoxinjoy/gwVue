(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9db3"],{3572:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{attrs:{title:"编辑人员信息","mask-closable":!1,"footer-hide":!0},on:{"on-visible-change":t.changeState},model:{value:t.editshow,callback:function(e){t.editshow=e},expression:"editshow"}},[a("Form",{ref:"modalForm",attrs:{model:t.modalForm,"label-width":80,rules:t.ruleValidate},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(e)}}},[a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{placeholder:"输入名称"},model:{value:t.modalForm.name,callback:function(e){t.$set(t.modalForm,"name",e)},expression:"modalForm.name"}})],1),a("FormItem",{attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{placeholder:"输入密码"},model:{value:t.modalForm.password,callback:function(e){t.$set(t.modalForm,"password",e)},expression:"modalForm.password"}})],1),a("FormItem",{attrs:{label:"电话号码",prop:"phone"}},[a("Input",{attrs:{placeholder:"输入电话号码"},model:{value:t.modalForm.phone,callback:function(e){t.$set(t.modalForm,"phone",e)},expression:"modalForm.phone"}})],1),a("FormItem",{attrs:{label:"公司名称",prop:"company_id"}},[a("Select",{attrs:{disabled:""},model:{value:t.modalForm.company_id,callback:function(e){t.$set(t.modalForm,"company_id",e)},expression:"modalForm.company_id"}},t._l(t.companyList,function(e){return a("Option",{key:e.Id,attrs:{value:e.Id}},[t._v(t._s(e.name))])}),1)],1),a("FormItem",{attrs:{label:"权限",prop:"authority"}},[a("CheckboxGroup",{model:{value:t.modalForm.authority,callback:function(e){t.$set(t.modalForm,"authority",e)},expression:"modalForm.authority"}},t._l(t.authList,function(e){return a("Checkbox",{key:e.Id,attrs:{label:e.Id}},[t._v(t._s(e.name))])}),1)],1),a("FormItem",{attrs:{label:"是否禁用"}},[a("RadioGroup",{model:{value:t.modalForm.status,callback:function(e){t.$set(t.modalForm,"status",e)},expression:"modalForm.status"}},[a("Radio",{attrs:{label:-1}},[t._v("禁用")]),a("Radio",{attrs:{label:1}},[t._v("使用")])],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.handlerClose}},[t._v("取消")])],1)],1)],1)},r=[],n=(a("d4d5"),a("7bc1"),a("7364"),{name:"editModal",props:{modal:Boolean,originData:Object},data:function(){var t=function(t,e,a){/^1[345678]\d{9}$/.test(e)||a(new Error("手机号码有误，请重填")),a()},e=function(t,e,a){""===e?a():(/^[0-9a-zA-Z]+$/.test(e)||a(new Error("你输入的字符不是数字或者字母")),a())};return{modalForm:{id:"",name:"",password:"",phone:"",company_id:"",authority:[],status:1},ruleValidate:{name:[{required:!0,message:"名称不能为空",trigger:"blur"}],phone:[{required:!0,message:"电话号码不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],password:[{validator:e,trigger:"blur"},{min:6,message:"密码不能少于6个字符",trigger:"blur"}],authority:[{required:!0,type:"array",message:"请选择权限",trigger:"change"}]}}},computed:{editshow:{get:function(){return this.modal},set:function(){}},companyList:function(){return this.$store.state.user.companyList},authList:function(){return this.$store.state.user.authList},newForm:function(){var t=this.originData,e={};e.id=t.Id,e.name=t.name,e.phone=t.phone,e.company_id=t.company_id,e.status=t.status;var a=t.auth_ids.split(",");return e.authority=a.map(Number),JSON.parse(JSON.stringify(e))}},watch:{newForm:{handler:function(t){this.modalForm=t},immediate:!0,deep:!0}},methods:{changeState:function(t){this.$emit("State",t)},handleSubmit:function(){var t=this;console.log("33"),this.$refs.modalForm.validate(function(e){e?t.$emit("submit",t.modalForm):t.$Message.error("Fail!")})},handlerClose:function(){this.editshow=!1,this.$emit("State",!1)}}}),l=n,s=a("17cc"),i=Object(s["a"])(l,o,r,!1,null,null,null);e["default"]=i.exports}}]);